## Amazon S3(Simple Storage Service)
**업계 최고의 확장성, 데이터 가용성 및 보안과 성능을 제공하는 객체 스토리지 서비스**

- 리전 레벨의 서비스(AZ 영역 외부에 위치)

- 99.999999999% 내구성 제공

- 객체 수준의 스토리지 제공

- 용량 무제한의 파일 저장소

- HTTP를 이용하여 파일 접근 및 업로드/다운로드 가능

<br/>

### Bucket
**S3에서 생성할 수 있는 최상위 디렉터리**

- 각 리전별로 생성 가능하고 버킷의 모든 이름은 모든 S3 Region에서 유일해야 하며 계정별로 100개까지 생성 가능

- 버킷 안에 객체가 저장되고 디렉터리 생성이 가능하며 지속 제어 및 권한 관리 가능

<br/>

### Object
**S3에 데이터가 저장되는 최소단위**

- 파일과 메타데이터로 구성

- 기본적으로 객체의 Key가 데이터 이름, Value가 데이터 타입

- 객체 하나의 크기는 최소 0Byte부터 최대 5TB

<br/>

### 용도
#### 정적 웹 콘텐츠 및 미디어 저장 및 배포
- 가장 일반적인 방식으로 정적 컨텐츠를 S3 버킷에 저장하여 리전 레벨에서 보다 빠르게 접근 가능

- 최초 생성된 S3 버킷의 경우 생성자 이외에는 모두 접근이 불가능하며, 이를 Public으로 공개하거나 특정 사용자에게 권한을 부여하여 접근할 수 있도록 오픈하는 정책 적용

- S3 Name은 리전 Scope이나, S3 Bucket Name은 글로벌 Scope를 갖는데 글로벌 레벨에서 동일한 bucket name 생성 불가능  
  bucket name은 전 세계에서 유일
  - ex) https://[bucket name].s3.amazonaws.com

#### 버전 관리
**동일 버킷 내에 여러 개의 객체 변형을 보유하는 수단**

- 버킷에 저장된 모든 버전의 객체를 모두 보존, 검색 및 복원 가능

- 버킷을 통해 실수로 삭제하거나 덮어쓴 객체 복구 가능

- 객체를 영구적으로 제거하지 않고 삭제하는 경우, 삭제 마커를 삽입  
  이 삭제 마커가 현재 객체 버전이 되며, 객체를 덮어쓴 경우 버킷에 새 객체 버전이 생성  
  나중에 이전 버전 복원 가능

- 동일한 객체에 대해 여러 쓰기 요청을 동시에 수신하는 경우 모든 객체 저장

#### 대용량 분석 또는 연산을 위한 데이터 스토어
- S3 사용량을 분석하거나 거래 분석, 클릭 스트림, 미디어 트랜스코딩 등의 분석 기능으로 사용 가능

#### 백업 및 아카이빙 도구
- EC2, EBS 등의 스냅샷을 저장하는 공간으로도 사용

- 내구성 및 확장성이 매우 뛰어난 스토리지 서비스로 장기적으로 필요한 데이터의 경우 Amazon S3 Glacier로 이전하면 비용적인 이점 발생

<br/>

### 좋은 사례와 나쁜 사례
#### 좋은 사례
- 한번 쓰고 여러 번 읽어야 하는 경우

- 데이터 액세스가 일시적으로 급증하는 경우

- 사용자가 매우 많고 콘텐츠 양이 다양할 때

- 데이터 세트가 계속 증가할 때

#### 나쁜 사례
- 자주 바뀌는 데이터에 대한 경우
  - 객체 스토리지보단 블록 스토리지 및 파일 스토리지 권고

- 블록 스토리지 요구 사항

- 장기 아카이브 스토리지가 필요한 경우
  - Amazon S3 Glacier 권고

<br/>

### Amazon S3 Storage Class 종류
#### Amazon S3 Standard
자주 액세스하는 데이터를 위해 높은 내구성, 가용성 및 성능을 갖춘 객체 스토리지

- 짧은 지연 시간과 많은 처리량을 제공하므로 클라우드 애플리케이션, 동적 웹 사이트, 콘텐츠 배포, 모바일 및 게임 애플리케이션, 빅 데이터 분석 등의 다양한 사용 사례에 적합

#### Amazon S3 Intelligent-Tiering
객체 크기 또는 보존 기간에 상관없이 액세스 패턴을 알 수 없거나 예측할 수 없는, 또는 액세스 패턴이 변화하는 데이터의 경우에 이상적인 스토리지 클래스

- 데이터 액세스 패턴이 변화할 때 성능에 대한 영향 또는 운영 오버헤드 없이 자동으로 스토리지 비용을 절감하는 유일한 클라우드 스토리지 클래스

- 약간의 월별 객체 모니터링 및 자동화 요금만 지불하면 이용 가능하고, 액세스 패턴을 모니터링하여 액세스하지 않은 객체를 저렴한 액세스 계층으로 자동으로 옮김

- 대기 시간이 짧고 처리량이 높은 2개의 액세스 티어에서 자동 스토리지 비용 절감 효과를 제공

#### Amazon S3 Standard-IA
저렴한 비용과 높은 성능의 조합을 제공하는 S3 Standard-IA는 장기 스토리지, 백업 및 재해 복구 파일용 데이터 스토어에 이상적인 스토리지 클래스

- 자주 액세스하지 않지만 필요할 때 빠르게 액세스해야 하는 데이터에 적합

- S3 Standard의 뛰어난 내구성, 높은 처리량 및 짧은 대기 시간을 저렴한 GB당 스토리지 요금과 GB당 검색 요금으로 제공

#### Amazon S3 One Zone-IA
자주 액세스하지 않는 데이터에 대한 저렴한 옵션을 원하지만 S3 Standard 또는 S3 Standard-IA 스토리지와 같은 가용성 및 복원력이 필요 없는 고객에게 적합한 스토리지 클래스

- 자주 액세스하지 않지만 필요할 때 빠르게 액세스해야 하는 데이터에 적합

- 온프레미스 데이터 또는 쉽게 다시 생성할 수 있는 데이터의 보조 백업 복사본을 저장하는 경우에 좋은 선택

- 최소 3개의 가용 영역(AZ)에 데이터를 저장하는 다른 S3 스토리지 클래스와는 달리, 단일 AZ에 데이터를 저장하며 비용이 S3 Standard-IA보다 20% 적게 발생

- S3 Standard와 동일한 높은 내구성, 많은 처리량 및 짧은 대기 시간을 저렴한 GB당 스토리지 요금과 GB당 검색 요금으로 제공

- 단일 가용 영역을 사용하므로 가용성은 다른 서비스에 비해 좋지 않음

#### Amazon S3 Glacier
데이터 보관을 위한 안전하고 내구력 있으며 저렴한 스토리지 클래스

- 온프레미스 솔루션과 비슷하거나 더 저렴한 비용으로 원하는 양의 데이터를 안정적으로 저장 가능

- 비용을 낮게 유지하면서 동시에 다양한 요구를 지원하기 위해 몇 분에서 몇 시간까지 소요되는 세 가지 검색 옵션을 제공
  - **긴급 검색:** 보통 데이터를 반환하는 데 1 ~ 5분이 걸리며 활성 아카이브 사용 사례에 적합
  - **표준 검색:** 보통 3~5시간 사이에 완료되며 백업 데이터, 미디어 편집 또는 장기 분석과 같이 시간이 덜 민감한 작업에 가장 적합
  - **대량 검색:** 가장 저렴한 검색 옵션으로 대량의 데이터를 5~12시간 안에 반환

#### Amazon S3 Glacier Deep Archive
Amazon S3에서 가장 저렴한 비용의 스토리지 클래스이며 1년에 한두 번 정도 액세스할 수 있는 데이터의 장기 보관 및 디지털 보존을 지원하는 스토리지 클래스

- 규제 규정 준수 요건을 충족하기 위해 7 - 10년 이상 데이터 세트를 보관하는 고객을 위해 설계

- 백업 및 재해 복구 사용 사례에도 사용할 수 있으며 온프레미스 라이브러리든 오프프레미스 서비스든 상관없이 자기 테이프 시스템에 대한 비용 효과적이고 관리하기 쉬운 대안

- Amazon S3 Glacier를 보완하며, 데이터를 정기적으로 검색하고 일부 데이터의 경우 몇 분 이내에 사용해야 할 수 있는 아카이브에 이상적

- S3 Glacier Deep Archive에 저장된 모든 객체는 최소 3개의 지리적으로 분산된 가용 영역에 걸쳐 복제되고 저장되며, 99.999999999%의 내구성으로 보호되고 12시간 이내에 복원 가능

<br/>

### S3 SELECT
**AWS S3/ AWS S3 Glacier에 저장된 데이터에 쿼리를 날려서, 필요한 데이터만 다운받을 수 있게 해주는 기능**

- CSV/ JSON 포맷 지원

- 압축 포맷은 GZIP만 지원

- 속도 증가, 비용 절약

- Lambda 함수를 사용하는 서버리스 환경에 유리

#### 쿼리
- GROUP BY, ORDER BY는 지원 x

- 집계용 쿼리는 일부 지원

<br/>

### Amazon S3 Multipart upload
**파일을 여러 개의 블록으로 나눠서 동시에 여러 개의 Connection을 통해서 업로드 하는 방법**

- Parallel하게 업로드 진행

- 구현은 SDK 형태로 제공되는 라이브러리 사용

<br/>

### Amazon S3 Transfer Acceleration(S3TA)
**더 빠른 장거리 S3 업로드 및 다운로드를 지원하는 서비스**

- 전송에 영향을 줄 수 있는 인터넷 라우팅, 정체 및 속도의 변동성을 줄이고 원격 애플리케이션의 경우 S3까지의 거리를 논리적으로 단축

- Amazon CloudFront의 전 세계에 분산된 엣지 로케이션과 AWS 백본 네트워크를 통해 트래픽을 라우팅하고 네트워크 프로토콜 최적화를 사용하여 전송 성능을 개선

<br/>

### Amazon S3로 데이터 이동
#### AWS Snowball
- 온보드 스토리지 및 컴퓨팅 용량으로 페타바이트 규모의 데이터 전송

- 약 1주 만에 테라바이트 규모의 데이터를 이동

- 특히 네트워크 조건이 AWS에서 대규모 데이터를 송수신하는 데 현실적으로 적합하지 않은 경우, 이를 사용하여 데이터베이스, 백업, 아카이브, 의료서비스 레코드, 분석 데이터 세트, IoT 센서 데이터 및 미디어 콘텐츠를 이동 가능

#### AWS Snowmobile
- 엑사바이트 규모의 데이터 세트를 AWS에서 또는 AWS로 마이그레이션하거나 전송

- 세미트레일러 트럭으로 견인되는 45피트 길이의 견고한 운반 컨테이너인 Snowmobile 1개를 사용하여 최대 100PB를 전송 가능

- 비디오 라이브러리, 이미지 리포지토리, 심지어 전체 데이터 센터 마이그레이션을 비롯해 초대용량 데이터를 손쉽게 클라우드로 이전 가능
