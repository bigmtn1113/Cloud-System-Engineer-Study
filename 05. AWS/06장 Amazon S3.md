## Amazon S3(Simple Storage Service)
**업계 최고의 확장성, 데이터 가용성 및 보안과 성능을 제공하는 객체 스토리지 서비스**

- 리전 레벨의 서비스(AZ 영역 외부에 위치)

- 99.999999999% 내구성 제공

- 객체 수준의 스토리지 제공

- 용량 무제한의 파일 저장소

- HTTP를 이용하여 파일 접근 및 업로드/다운로드 가능

<br/>

### Bucket
**S3에서 생성할 수 있는 최상위 디렉터리**

- 각 리전별로 생성 가능하고 버킷의 모든 이름은 모든 S3 Region에서 유일해야 하며 계정별로 100개까지 생성 가능

- 버킷 안에 객체가 저장되고 디렉터리 생성이 가능하며 지속 제어 및 권한 관리 가능

<br/>

### Object
**S3에 데이터가 저장되는 최소단위**

- 파일과 메타데이터로 구성

- 기본적으로 객체의 Key가 데이터 이름, Value가 데이터 타입

- 객체 하나의 크기는 최소 0Byte부터 최대 5TB

<br/>

### 용도
#### 정적 웹 콘텐츠 및 미디어 저장 및 배포
- 가장 일반적인 방식으로 정적 컨텐츠를 S3 버킷에 저장하여 리전 레벨에서 보다 빠르게 접근 가능

- 최초 생성된 S3 버킷의 경우 생성자 이외에는 모두 접근이 불가능하며, 이를 Public으로 공개하거나 특정 사용자에게 권한을 부여하여 접근할 수 있도록 오픈하는 정책 적용

- S3 Name은 리전 Scope이나, S3 Bucket Name은 글로벌 Scope를 갖는데 글로벌 레벨에서 동일한 bucket name 생성 불가능  
  bucket name은 전 세계에서 유일
  - ex) https://[bucket name].s3.amazonaws.com

#### 버전 관리
**동일 버킷 내에 여러 개의 객체 변형을 보유하는 수단**

- 버킷에 저장된 모든 버전의 객체를 모두 보존, 검색 및 복원 가능

- 버킷을 통해 실수로 삭제하거나 덮어쓴 객체 복구 가능

- 객체를 영구적으로 제거하지 않고 삭제하는 경우, 삭제 마커를 삽입  
  이 삭제 마커가 현재 객체 버전이 되며, 객체를 덮어쓴 경우 버킷에 새 객체 버전이 생성  
  나중에 이전 버전 복원 가능

- 동일한 객체에 대해 여러 쓰기 요청을 동시에 수신하는 경우 모든 객체 저장

#### 대용량 분석 또는 연산을 위한 데이터 스토어
- S3 사용량을 분석하거나 거래 분석, 클릭 스트림, 미디어 트랜스코딩 등의 분석 기능으로 사용 가능

#### 백업 및 아카이빙 도구
- EC2, EBS 등의 스냅샷을 저장하는 공간으로도 사용

- 내구성 및 확장성이 매우 뛰어난 스토리지 서비스로 장기적으로 필요한 데이터의 경우 Amazon S3 Glacier로 이전하면 비용적인 이점 발생

<br/>

### 좋은 사례와 나쁜 사례
#### 좋은 사례
- 한번 쓰고 여러 번 읽어야 하는 경우

- 데이터 액세스가 일시적으로 급증하는 경우

- 사용자가 매우 많고 콘텐츠 양이 다양할 때

- 데이터 세트가 계속 증가할 때

#### 나쁜 사례
- 자주 바뀌는 데이터에 대한 경우
  - 객체 스토리지보단 블록 스토리지 및 파일 스토리지 권고

- 블록 스토리지 요구 사항

- 장기 아카이브 스토리지가 필요한 경우
  - Amazon S3 Glacier 권고

<br/>

### S3 SELECT
**AWS S3/ AWS S3 Glacier에 저장된 데이터에 쿼리를 날려서, 필요한 데이터만 다운받을 수 있게 해주는 기능**

- CSV/ JSON 포맷 지원

- 압축 포맷은 GZIP만 지원

- 속도 증가, 비용 절약

- Lambda 함수를 사용하는 서버리스 환경에 유리

#### 쿼리
- GROUP BY, ORDER BY는 지원 x

- 집계용 쿼리는 일부 지원

<br/>

### Amazon S3 Multipart upload
**파일을 여러 개의 블록으로 나눠서 동시에 여러 개의 Connection을 통해서 업로드 하는 방법**

- Parallel하게 업로드 진행

- 구현은 SDK 형태로 제공되는 라이브러리 사용

<br/>

### Amazon S3 Transfer Acceleration(S3TA)
**더 빠른 장거리 S3 업로드 및 다운로드를 지원하는 서비스**

- 전송에 영향을 줄 수 있는 인터넷 라우팅, 정체 및 속도의 변동성을 줄이고 원격 애플리케이션의 경우 S3까지의 거리를 논리적으로 단축

- Amazon CloudFront의 전 세계에 분산된 엣지 로케이션과 AWS 백본 네트워크를 통해 트래픽을 라우팅하고 네트워크 프로토콜 최적화를 사용하여 전송 성능을 개선

<br/>

### Amazon S3로 데이터 이동
#### AWS Snowball
- 온보드 스토리지 및 컴퓨팅 용량으로 페타바이트 규모의 데이터 전송

- 약 1주 만에 테라바이트 규모의 데이터를 이동

- 특히 네트워크 조건이 AWS에서 대규모 데이터를 송수신하는 데 현실적으로 적합하지 않은 경우, 이를 사용하여 데이터베이스, 백업, 아카이브, 의료서비스 레코드, 분석 데이터 세트, IoT 센서 데이터 및 미디어 콘텐츠를 이동 가능

#### AWS Snowmobile
- 엑사바이트 규모의 데이터 세트를 AWS에서 또는 AWS로 마이그레이션하거나 전송

- 세미트레일러 트럭으로 견인되는 45피트 길이의 견고한 운반 컨테이너인 Snowmobile 1개를 사용하여 최대 100PB를 전송 가능

- 비디오 라이브러리, 이미지 리포지토리, 심지어 전체 데이터 센터 마이그레이션을 비롯해 초대용량 데이터를 손쉽게 클라우드로 이전 가능
