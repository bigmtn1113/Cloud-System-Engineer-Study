# 파일 시스템 관리

<br/>

## Linux 파일 시스템의 종류
### 파일 시스템이란?
파일과 디렉터리의 집합을 구조적으로 관리하는 체계

### Linux 고유의 디스크 기반 파일 시스템
ext4 - 1EB(엑사 바이트. 1024 * 1024TB) 이상의 볼륨과 16TB 이상의 파일을 지원한다.

### Linux에서 지원하는 다른 디스크 기반 파일 시스템
- nfs - Network File System. 원격 서버의 디스크를 연결할 때 사용
- ntfs - 윈도우의 NTFS를 지원하기 위한 파일 시스템

### Linux의 특수 용도 가상 파일 시스템
- swap - 스왑 영역을 관리하기 위한 파일 시스템  
- tmpfs - Temporary File System. 메모리에 임시 파일을 저장하기 위한 파일 시스템. 시스템 재시작할 때마다 기존 내용이 없어진다.

<br/>

## Linux 파일 시스템의 구조
효율적으로 디스크를 사용하기 위해 저장 장치를 논리적인 블록 그룹으로 구분한다.  
일반적으로 블록은 4KB이고 실제 크기는 시스템의 설정에 따라 변경이 가능하다.

### Linux의 모든 파일 시스템의 기본 개념
파일은 inode로 관리된다.  
디렉터리는 단순한 파일의 목록을 갖고 있는 파일이다.  
특수 파일을 통해 장치에 접근할 수 있다.

### 한 파일 시스템 구성
디렉터리 계층 구조에서 보이는 모든 디렉터리와 파일을 하나의 파일 시스템으로 구성

### 여러 파일 시스템 구성
디렉터리 계층 구조를 여러 파일 시스템으로 구분하여 구성  
여러 파일 시스템으로 나누어 디렉터리 계층 구조를 구성할 경우, 일부 파일 시스템에 문제가 생기더라도 다른 파일 시스템의 파일은 안전

<br/>

## 파일 시스템 마운트
### 마운트
파일 시스템을 디렉터리 계층 구조의 특정 디렉터리와 연결하는 것

### 마운트 포인트
디렉터리 계층 구조에서 파일 시스템이 연결되는 디렉터리

### 파일 시스템 마운트 설정 파일
시스템 부팅 시, 자동으로 파일 시스템이 마운트되게 하려면 /etc/fstab 파일(파일 시스템의 마운트 설정 정보)에 설정

### /etc/fstab 파일의 구조
`장치명  마운트 포인트  파일 시스템 종류  옵션  덤프 관련 설정  파일 점검 옵션`  
ex) `/dev/sdb1 /u01 ext4 defaults,noexec 1 2`

- 옵션: 파일 시스템의 속성 지정  
  ex) defaults: 일반적인 파일 시스템에 지정하는 속성
- 덤프 관련 설정: 0(dump 불가), 1(dump 가능)
- 파일 점검 옵션: 0(부팅 시, fsck 생략), 1(루트 파일시스템), 2(루트 파일시스템 이외)

### 마운트 관련 명령어
mount  
- mount 장치명 마운트 포인트: 파일 시스템 마운트
- mount -t 장치명 마운트 포인트: 파일 시스템 종류 지정

umount  
- umount 장치명 또는 마운트 포인트: 파일 시스템 언마운트

※ umount 에러  
umount를 했는데 target is busy. 라는 메시지가 출력되면 해당 디렉터리를 누군가 사용중이란 뜻이다.  
그럴 경우 umount하고자 하는 디렉터리로 이동해 umount를 실행하면 된다.
