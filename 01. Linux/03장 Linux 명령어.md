# Linux 명령어

<br/>

## 파일의 종류와 특징
### 파일의 종류  
파일: 관련 있는 **Data**나 **정보**들의 집합. file 명령어로 파일 정보를 볼 수 있다(ex. file /usr/bin/ls).  
Data: 현실 세계에서 관찰이나 측정을 통해 수집한 단순한 사실이나 값  
정보: 의사 결정에 도움을 줄 수 있는 유용한 형태. Data를 가공해서 얻을 수 있는 결과  

**일반 파일, 디렉터리, 링크 파일, 장치 파일**로 파일 구분

### 일반 파일
텍스트 파일, 실행 파일, 이미지 파일 등 대부분의 파일은 일반 파일이다.  
실행 파일이나 이미지 파일은 **바이너리 파일**이라 문서 편집기로 보면 내용을 읽을 수 없다. 별도의 프로그램이 필요하다.

### 디렉터리
파일들의 주소를 담고 있는 **파일**이다. 파일을 관리하기 위해 사용한다.

### 링크 파일
윈도우의 바로가기 기능과 비슷하다. 파일 링크 방법으론 Hark link와 Soft link가 있다.

### 장치 파일
하드디스크나 키보드 같은 각종 장치도 파일로 취급한다.

### 디렉터리 계층 구조
**tree** 구조. tree 구조로 보고싶으면 tree package를 설치해서 tree 명령어를 입력하면 된다. 많이 쓰인다.

### 작업 디렉터리
현재 디렉터리. pwd(print working directory)로 확인 가능하다.

### 홈 디렉터리
root를 제외한 사용자들의 기본 디렉터리. cd 또는 cd ~를 입력하면 홈 디렉터리로 이동한다.

### 이 외의 디렉터리
디렉터리 | 설명
:---: | ---
media | 외부 장치(USB, CD롬, ...)를 연결(마운트)하는 디렉터리다.  
opt | 추가 패키지가 설치되는 디렉터리다.  
root | root 계정의 홈 디렉터리.  / 와 다른 디렉터리다.  
sys | 리눅스 커널과 관련된 파일이 있는 디렉터리다.  
usr | Unix System Resource. 기본 실행 파일과 라이브러리 파일(.lib), 헤더 파일 등 많은 파일들이 있다.  
boot | 부팅에 필요한 커널 파일을 갖고 있다. boot 디렉터리 안엔 GRUB(Grand Unified Bootloader)가 있다.  
etc | Linux 설정을 위한 각종 파일을 갖고 있다.  
lost+found | lost+found 디렉터리는 disk partition만 갖고있다. 만약 /BACKUP, /var를 파티션으로 나눴다면 lost+found 디렉터리가 존재한다. 파일 시스템에 문제가 발생하여 복구할 경우, 문제가 되는 파일이 저장되는 디렉터리다.  
mnt | 파일 시스템을 임시 마운팅하는 디렉터리다.  
proc | process. 프로세스 정보 등 커널 관련 정보가 저장되는 디렉터리다.  
tmp | 시스템 사용 중에 발생하는 임시 데이터가 저장된다. 임시 데이터 저장소라 재부팅하면 모두 삭제된다.  
var | 로그 수집 저장소. rsyslogd - 시스템 로그 수집. /var/log에 저장된다.  

### Unix file system Layout
파일시스템에서 디스크는 여러 개의 block들로 구성되어 있다.  
그 중 inode block은 파일이나 디렉터리에 대한 정보들을 갖고 있는 공간이다.  
**inode**는 파일 주소와 파일에 대한 중요한 정보를 갖고 있고 고유한 식별 번호를 갖는다. ls -li에서 i가 inode.  
경로를 나타내는 .과 ..도 inode 번호를 가진다. root는 inode 번호가 2다. 1은 grub(부팅)  

ex) cd /usr/css/bin/ar  
**inode 번호**를 기반으로 이동한다.  
-> /에서 usr inode 번호를 찾는다.  
-> usr에서 css inode 번호를 찾는다.  
-> css에서 bin inode 번호를 찾는다.  
-> bin에서 ar inode 번호를 찾는다.  
-> ar 도착

<br/>

## 디렉터리 사용 명령
### 디렉터리 내용 보기
ls -i: 첫 번째 열에 inode 번호를 출력한다.  
ls -t: 파일 수정 시간 기준으로 내림차순 정렬해서 목록을 출력한다.  
ls -l [경로]: 경로에 존재하는 파일들의 상세 정보를 출력한다. alias에 ll로 설정되어 있다.

### 디렉터리 생성
mkdir -p: 하위 디렉터리를 생성할 때, 상위 디렉터리가 존재하지 않아도 디렉터리를 모두 생성한다.

<br/>

## 파일 다루기
### 화면 단위로 파일 내용 출력
more: 파일 내용을 화면 단위로 출력. enter는 한 줄, space는 한 페이지씩 화면을 넘긴다.  
less: more와 같은 기능을 수행하나, 추가적인 기능이 존재. 이미 지나친 내용도 볼 수 있다.

### 파일 뒷부분 출력
tail: 파일 뒷부분 10행 출력  
tail -숫자: 파일 뒷부분 숫자행 출력  
tail -f: 파일 출력을 종료하지 않고 주기적으로 출력  
　　　ex) tail -f /var/log/secure: 로그인 실패 내역 실시간 출력

### 파일 복사
cp -r: 디렉터리 복사

### 파일 삭제
rm -i: 질문을 통해 삭제 의사 여부 확인  
rm -r: 디렉터리를 삭제

